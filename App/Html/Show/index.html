<?php $i = 0; foreach ($this->pictures as $picture): $i++;?>
<div class="image-container">
    <img width="300" height="350" src="pics/<?php HE($picture->getMd5()) ?>.jpg" />
    <div class="image-additions">
        <a href="<?php HE(Vpfw_Router_Http::url('picture', 'rate', array('cId' => $this->comparisonId, 'pId' => $picture->getId(), 'rating' => 'positive'))); ?>"><img src="thumbs_up.png" class="thumb-up" /></a>
        <a href="<?php HE(Vpfw_Router_Http::url('picture', 'rate', array('cId' => $this->comparisonId, 'pId' => $picture->getId(), 'rating' => 'negative'))); ?>"><img src="thumbs_down.png" class="thumb-down" /></a>
        <div class="image-comments">
            <?php $this->{'commentForm' . $i}(); ?>
            <?php foreach ($picture->getComments() as $comment): ?>
            <div class="image-comment">
                <?php HE($comment->getTime() . ' | ' . $comment->getText()) ?>
            </div>
            <?php endforeach; ?>
        </div>
    </div>
</div>
<?php endforeach; ?>